<div class="container_main">

  <%= form_with url: user_students_path(current_user), method: :get, local: true, class: "filter-form" do |f| %>
    <div class="filter-field">
      <%= f.text_field :query, value: params[:query], placeholder: "Search" %>
      <button type="submit" class="filter-button">
        <%= inline_svg('icons/search.svg', class: 'svg-icon') %> 
      </button>
    </div>
  <% end %>

  <div class="container">
    <% if @students.any? %>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Subject</th>
            <th>Mark</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @students.each do |student| %>
            <tr>
              <td>
                <div class="profile-initials"><%= student.name[0].upcase %></div>
                <%= student.name%>
              </td>
              <td><%= student.subject.capitalize %></td>
              <td><%= student.marks %></td>
              <td class="action-buttons">
                <%= link_to '#', onclick: "toggleActions('actions-#{student.id}'); event.stopPropagation();", class: 'toggle-button' do %>
                  <%= inline_svg('icons/downcircle.svg', class: 'svg-icon-home') %>
                <% end %>
                <div id="actions-<%= student.id %>" class="action-popup">
                  <%= link_to 'Edit', edit_user_student_path(current_user, student) %>
                  <%= button_to 'Delete', user_student_path(current_user, student), method: :delete, data: { confirm: 'Are you sure?' } %>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p>No students found.</p>
    <% end %>
  </div>
  <div>
    <button onclick="openModal()" class="add-button">Add</button>
  </div>
  <%= paginate @students %>
</div>

<div id="addStudentModal" class="modal">
  <div class="modal-content">
    <%= render 'form' if @student %>
  </div>
</div>

<style>

<!--.action-buttons {
  position: relative;
}

.action-popup {
  position: absolute;
  right: 89px;
  background-color: #fff;
  border: 1px solid #ddd;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
  display: none;
  padding: 10px;
  width: 100px;
  z-index: 100;
  border-redius: 17px !important;
}

.action-popup a, .action-popup button {
  display: block;
  width: 100%;
  text-align: left;
  padding: 5px;
  color: #333;
  text-decoration: none;
  background: none;
  border: none;
  cursor: pointer;
}

.action-popup a:hover, .action-popup button:hover {
  background-color: #f0f0f0;
}
.page,.first,.last{
  display:none;
}
.next,.prev {
  display: inline-block;
  padding: 8px 13px;
  background-color: rgb(3, 3, 3);
  color: white;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.pagination{
  margin-left:20px;
}

a:-webkit-any-link {
  color: inherit;
  text-decoration: none;   
  cursor: pointer;
}

.filter-field {
  display: flex;
  align-items: center;
  width: 100%;
  max-width: 400px;
}

.filter-field input[type="text"] {
  width: 32%;
  padding: 6px 9px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 4px;
  outline: none;
}

.filter-field input[type="text"]:focus {
  box-shadow: 0 0 4px rgba(0, 123, 255, 0.2);
}

.filter-button {
  border: none;
  border-radius: 4px;
  padding: 4px 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: white;
  font-size: 16px;
}

.filter-form{
  margin-left:20px;
  margin-top:3px;
}
-->



</style>

<script>


</script>